<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        body {
            display: flexbox;
            margin: 0 150px;
        }
        .headings {
            text-align: center;
        }
        .roundChoiceGroup {
            display: flex;
            justify-content: space-evenly;
            border: 1px solid blue;
            padding: 20px;
            background-color: rgb(131, 196, 66);
        }
        .roundChoice {
            transform: scale(1.5);   
        }
        
    </style>
</head>
<body>
    <h1 class="headings">**Let's play Rock Paper Scissors**</h1>
    <h2 class="headings">Open up the console window to view the game!</h2>
    <h3>Here are the rules:</h3>
    <ol>
        <li>Type in "rock", "paper" or "scissors" in the prompt window. Don't worry about letter casing!</li>
        <li>The computer will make its own choice. See who won in the console window!</li>
        <li>That's it! Have fun!</li>
    </ol>
    <button id="play">RESET</button>
    <div class="roundChoiceGroup">
        <button id="rockButt" class="roundChoice">Rock</button>
        <button id="paperButt" class="roundChoice">Paper</button>
        <button id="scissorButt" class="roundChoice">Scissors</button>
    </div>
    <p><div id="gameScreen">
        <div id="playerChoice"></div>
        <div id="computerChoice"></div>
        <div id="gameRoundResult"></div>
        <div id="gameTally"></div>
        <div id="gameTotalResult"></div>
    </div></p>
    <script>
        function getComputerChoice (){
            let choices = ["rock", "paper", "scissors"];
            let selection = Math.floor (Math.random () * choices.length);
            return (choices[selection]);
        }; 

            
            let playerChoice = " ";
            let outcome = " ";
            let wins = 0
            let losses = 0
            let draws = 0


            

            const rockButt = document.querySelector("#rockButt");
            rockButt.addEventListener("click", () => {playerChoice = "rock"; gameRound();});
            const paperButt = document.querySelector("#paperButt");
            paperButt.addEventListener("click", () => {playerChoice = "paper"; gameRound();});
            const scissorButt = document.querySelector("#scissorButt");
            scissorButt.addEventListener("click", () => {playerChoice = "scissors"; gameRound();});
            const butts = Array.from(document.querySelectorAll(".roundChoice"));


        function gameRound () {
            
            let computerChoice = getComputerChoice();

            document.getElementById("playerChoice").innerText = `You choose ${playerChoice.toLowerCase()}`;
            document.getElementById("computerChoice").innerText = `Computer chooses ${computerChoice}.`;

            if (playerChoice.toLowerCase() === 'rock' && computerChoice.toLowerCase() === 'rock'
            || playerChoice.toLowerCase() === 'paper' && computerChoice.toLowerCase() === 'paper'
            || playerChoice.toLowerCase() === 'scissors' && computerChoice.toLowerCase() === 'scissors') {
                document.getElementById("gameRoundResult").innerText = "It's a draw!";
                 outcome = "draw";
            } else if (playerChoice.toLowerCase() === 'rock' && computerChoice.toLowerCase() === 'paper') {
                document.getElementById("gameRoundResult").innerText = "You lose! Paper beats Rock!";
                 outcome = "lose";
            } else if (playerChoice.toLowerCase() === 'rock' && computerChoice.toLowerCase() === 'scissors') {
                document.getElementById("gameRoundResult").innerText = "You win! Rock beats Scissors!";
                 outcome = "win";
            } else if (playerChoice.toLowerCase() === 'paper' && computerChoice.toLowerCase() === 'rock') {
                document.getElementById("gameRoundResult").innerText = "You win! Paper beats Rock!";
                 outcome = "win";
            } else if (playerChoice.toLowerCase() === 'paper' && computerChoice.toLowerCase() === 'scissors') {
                document.getElementById("gameRoundResult").innerText = "You lose! Scissors beats Paper!";
                 outcome = "lose";
            } else if (playerChoice.toLowerCase() === 'scissors' && computerChoice.toLowerCase() === 'paper') {
                document.getElementById("gameRoundResult").innerText = "You win! Scissors beats Paper!";
                 outcome = "win";
            } else if (playerChoice.toLowerCase() === 'scissors' && computerChoice.toLowerCase() === 'rock') {
                document.getElementById("gameRoundResult").innerText = "You lose! Rock beats Scissors!";
                 outcome = "lose";
            } else {
                document.getElementById("gameRoundResult").innerText = "Entry must be rock, paper or scissors!";
                 outcome = "lose";
            };


            function roundCounter() {

            switch (outcome) {
                case ("win"):
                    wins = wins + 1;
                    break;
                case ("lose"):
                    losses = losses + 1;
                    break;
                case ("draw"): 
                    draws = draws + 1;
                default:
            };
        };


            if (wins < 5 && losses < 5 && draws < 5) {
                roundCounter(); 
            } else {
                roundCounter();

            if (wins > losses){
                document.getElementById("gameTotalResult").innerText = "You won more matches! Congrats!";
                butts.forEach(function(e) {
                    e.disabled = true;
                }) 
            };
            if (losses > wins){
                document.getElementById("gameTotalResult").innerText = "You lost more matches! Better luck next time!";
                butts.forEach(function(e) {
                    e.disabled = true;
                }) 
            };
            if (losses === wins){
                document.getElementById("gameTotalResult").innerText = "Tie game!";
                butts.forEach(function(e) {
                    e.disabled = true;
                }) 
            };
        }; 

         let gameTally = document.querySelector("#gameTally");
            gameTally.textContent = `${wins} match(es) won , ${losses} match(es) lost, ${draws} match(es) drawn`
        };
        
         
        const replay = document.querySelector("#play");
        replay.onclick = () => {window.location.reload();};
        
        
    </script>
</body>
</html>